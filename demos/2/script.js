
var mapData = ({"id":"germany","array":{"length":384990,"index":[0,132906,132907,133532,133533,133537,133540,134156,134157,134158,134167,134747,134748,134784,134793,134808,134810,135370,135371,135372,135376,135404,135405,135410,135419,135434,135438,135997,135998,135999,136002,136029,136031,136032,136033,136034,136046,136058,136062,136624,136628,136655,136671,136672,136673,136684,136688,137250,137254,137281,137298,137310,137314,137876,137883,137888,137889,137906,137907,137909,137923,137932,137934,137935,137940,138497,138498,138500,138509,138514,138515,138534,138535,138537,138550,138558,138566,139121,139122,139124,139141,139163,139192,139747,139769,139789,139817,140373,140395,140415,140442,140998,141023,141043,141066,141623,141645,141668,141691,142236,142237,142245,142271,142295,142318,142859,142897,142921,142943,142944,142945,143482,143524,143547,143569,144107,144149,144173,144195,144733,144774,144799,144821,145356,145400,145424,145449,145981,146026,146051,146075,146607,146652,146677,146701,146702,146703,147232,147278,147304,147327,147328,147329,147854,147908,147929,147951,148479,148534,148553,148554,148556,148578,149104,149160,149172,149173,149179,149204,149729,149784,149785,149786,149799,149800,149805,149830,149832,149833,150355,150408,150424,150426,150428,150429,150430,150456,150457,150458,150459,150460,150981,151033,151049,151087,151607,151659,151671,151672,151674,151713,152234,152285,152290,152291,152296,152339,152862,152912,152917,152966,153489,153539,153542,153593,154115,154219,154741,154845,155366,155471,155991,156097,156589,156595,156612,156723,157215,157221,157235,157348,157841,157851,157858,157974,158461,158600,158602,158604,159085,159230,159710,159856,159858,159859,160336,160484,160485,160486,160962,161111,161590,161738,162215,162363,162368,162369,162841,162990,163467,163619,164093,164245,164721,164872,165347,165497,165973,166123,166599,166748,167227,167372,167374,167375,167854,167998,168480,168624,169106,169251,169732,169877,170359,170502,170503,170504,170985,171129,171612,171754,172239,172383,172865,173008,173009,173010,173492,173630,173632,173634,174118,174258,174745,174883,174884,174885,175371,175510,175997,176133,176622,176759,177248,177384,177874,177995,178000,178009,178500,178619,178627,178634,179126,179246,179254,179259,179752,179871,179880,179882,179884,179885,180378,180497,180507,180509,181003,181124,181132,181133,181628,181751,182253,182377,182878,182996,183504,183617,184129,184242,184754,184866,185380,185492,186006,186117,186631,186742,187257,187368,187374,187375,187883,187994,187998,187999,188000,188002,188509,188621,188622,188624,188625,188627,189136,189253,189762,189879,190387,190505,191012,191132,191133,191134,191636,191758,192257,192260,192261,192383,192882,193008,193508,193633,194134,194259,194760,194885,195386,195503,195505,195506,195509,195510,195511,195513,196013,196129,196639,196755,197265,197382,197895,198007,198521,198633,199148,199258,199774,199884,200402,200511,201028,201135,201654,201730,201734,201760,202278,202355,202361,202386,202904,202981,202986,203012,203528,203607,203612,203636,204154,204234,204240,204262,204780,204859,204867,204882,204884,204887,205406,205483,205494,205507,205509,205510,205513,205514,206033,206108,206112,206113,206119,206120,206122,206131,206659,206734,206747,206756,207286,207361,207374,207382,207912,207985,207999,208006,208008,208009,208538,208609,208624,208625,208626,208632,209164,209234,209252,209258,209794,209856,209858,209861,209877,209884,210420,210476,210479,210480,210506,210510,211047,211101,211104,211105,211132,211137,211673,211729,211758,211762,212299,212353,212385,212386,212925,212979,213551,213597,213598,213604,214179,214223,214265,214266,214803,214843,214844,214848,215429,215466,215471,215472,215474,215475,216055,216092,216681,216717,217308,217340,217934,217966,218561,218591,219191,219217,219818,219838,219840,219843,220444,220463,220467,220470,221071,221088,221089,221091,221697,221715,221720,221721,222323,222341,222342,222343,222948,222968,223574,223577,223578,223594,224200,224209,224212,224220,224826,224829,224832,224833,224839,224840,224841,224846,225452,225455,225465,225466,225468,225469,225470,225474,226078,226080,226083,226084,346537,346538,347161,347162,347163,347164,347787,347788,347792,347796,347797,347798,348433,348434,348440,348441,349040,349041,350306,350308,350916,350917,350918,350919,350945,350946,351571,351572,351584,351585,352197,352198,352210,352211,352836,352837,353450,353451,354078,354079,354705,354706,355332,355333,355959,355960,355965,355966,356587,356589,356590,356591],"data":"0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0A0"},"mapping":{"A":{"image":"germany-1-png","code":"A"}}});

var EncodedArray = function(index, data, length) {

  this.index = index;
  this.data = data;
  this.length = length;

  this.get = function(i) {
    if (i > this.index[this.index.length - 1]) {
      if (i < this.length) {
        return this.data[this.data.length - 1];
      }
      return undefined;
    }

    var upper = (i < this.index.length ? i : this.index.length - 1);
    var lower = 0;
    var center;
    while (true) {
      if (lower === upper || lower + 1 === upper) {
        return upper === i ? this.data.charAt(upper) : this.data.charAt(lower);
      }
      center = Math.floor((upper + lower) / 2);
      if (this.index[center] < i) {
        lower = center;
      } else {
        upper = center;
      }
    }
  };
};

EncodedArray.build = function(str) {
  var length = str.length;
  var index = [];
  var data = '';

  var currentChar = null;
  for (var i = 0, c = str.charAt(0);
       i < length;
       i++,c = str.charAt(i)) {
    if (currentChar !== c) {
      index.push(i);
      data += c;
      currentChar = c;
    }
  }

  return new EncodedArray(index, data, length);
};

EncodedArray.deserialize = function(data) {
  return new EncodedArray(data.index, data.data, data.length);
};

window.onload = function () {
  var i, j, index;
  var array = EncodedArray.deserialize(mapData.array);
  var canvas = document.getElementById("canvas");
  var context = canvas.getContext("2d");
  var imageData = context.createImageData(626, 615);
  for (i = 0; i < 615; i++) {
    for (j = 0; j < 626; j++) {
      index = i * 626 + j;
      if (array.get(index) === 'A') {
        imageData.data[index * 4] = 255;
        imageData.data[index * 4 + 3] = 255;
      }
    }
  }
  context.putImageData(imageData, 0, 0);
};